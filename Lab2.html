<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Dashboard</title>
    <style>
      /* General Styles */
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
      }

      header {
        background: #333;
        color: white;
        padding: 10px 0;
        text-align: right;
      }

      .header-container {
        width: 90%;
        margin: 0 auto;
      }

      .login-logout button {
        margin-left: 10px;
        padding: 10px 15px;
        border: none;
        background: #5cb85c;
        color: white;
        border-radius: 4px;
        cursor: pointer;
      }

      .login-logout button:hover {
        background: #4cae4c;
      }

      .login-container,
      .signup-container,
      .dashboard {
        width: 400px;
        margin: 50px auto;
        padding: 20px;
        background: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
      }

      h2,
      h3,
      h4 {
        color: #333;
      }

      form {
        display: flex;
        flex-direction: column;
      }

      input[type="text"],
      input[type="password"],
      input[type="email"] {
        margin: 10px 0;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      button[type="submit"] {
        padding: 10px;
        border: none;
        background: #5cb85c;
        color: white;
        border-radius: 4px;
        cursor: pointer;
      }

      button[type="submit"]:hover {
        background: #4cae4c;
      }

      .exercise-category {
        margin: 20px 0;
      }

      .exercise {
        margin: 10px 0;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      button#show-signup {
        background: none;
        color: #5cb85c;
        cursor: pointer;
        border: none;
        padding: 0;
        text-decoration: underline;
      }

      /* Coding Environment Styles */
      .coding-environment {
        width: 80%;
        margin: 50px auto;
        padding: 20px;
        background: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
      }

      #code-editor {
        width: 100%;
        height: 300px;
        font-family: "Courier New", Courier, monospace;
        margin-top: 20px;
      }

      button {
        padding: 10px;
        margin: 5px;
        border: none;
        background: #5cb85c;
        color: white;
        border-radius: 4px;
        cursor: pointer;
      }

      button:hover {
        background: #4cae4c;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-container">
        <div class="login-logout">
          <button id="login-btn">Login</button>
          <button id="signup-btn">Sign Up</button>
          <button id="logout-btn" style="display: none">Logout</button>
        </div>
      </div>
    </header>

    <div class="login-container">
      <h2>Login</h2>
      <form id="login-form">
        <input type="text" placeholder="Username" required />
        <input type="password" placeholder="Password" required />
        <button type="submit">Login</button>
      </form>
      <p>Don't have an account? <button id="show-signup">Sign Up</button></p>
    </div>

    <div class="signup-container" style="display: none">
      <h2>Sign Up</h2>
      <form id="signup-form">
        <input type="email" placeholder="Email" required />
        <input type="text" placeholder="Username" required />
        <input type="password" placeholder="Password" required />
        <button type="submit">Sign Up</button>
      </form>
    </div>

    <div class="dashboard" style="display: none">
      <h2>Available Exercises</h2>
      <input
        type="text"
        id="search-keyword"
        placeholder="Search exercises..."
      />
      <select id="filter-language">
        <option value="all">All Languages</option>
        <option value="c">C</option>
        <option value="python">Python</option>
        <option value="java">Java</option>
      </select>

      <div class="exercise-category" data-language="c">
        <h3>C Programming</h3>
        <div class="exercise" data-status="not-started">
          <h4>Title: Arrays</h4>
          <p>Description: Learn about arrays in C.</p>
          <p>Difficulty: Easy</p>
          <p>Time Limit: 30 minutes</p>
          <p>Points: 10</p>
          <p>Status: Not Started</p>
          <button
            class="select-exercise"
            data-title="Arrays"
            data-description="Learn about arrays in C."
            data-language="c"
          >
            Select
          </button>
        </div>
      </div>

      <div class="exercise-category" data-language="python">
        <h3>Python</h3>
        <div class="exercise" data-status="not-started">
          <h4>Title: Data Structures</h4>
          <p>Description: Explore Python data structures.</p>
          <p>Difficulty: Medium</p>
          <p>Time Limit: 45 minutes</p>
          <p>Points: 20</p>
          <p>Status: Not Started</p>
          <button
            class="select-exercise"
            data-title="Data Structures"
            data-description="Explore Python data structures."
            data-language="python"
          >
            Select
          </button>
        </div>
      </div>

      <div class="exercise-category" data-language="java">
        <h3>Java</h3>
        <div class="exercise" data-status="not-started">
          <h4>Title: OOP Basics</h4>
          <p>
            Description: Understand the basics of Object-Oriented Programming.
          </p>
          <p>Difficulty: Hard</p>
          <p>Time Limit: 60 minutes</p>
          <p>Points: 30</p>
          <p>Status: Not Started</p>
          <button
            class="select-exercise"
            data-title="OOP Basics"
            data-description="Understand the basics of Object-Oriented Programming."
            data-language="java"
          >
            Select
          </button>
        </div>
      </div>
    </div>

    <div class="coding-environment" style="display: none">
      <button id="back-btn">Back</button>
      <h2 id="exercise-title">Exercise Title</h2>
      <p id="exercise-description">Exercise Description</p>
      <textarea id="code-editor" rows="20" cols="80"></textarea>
      <div>
        <button id="run-code">Run Code</button>
        <button id="clear-code">Clear Code</button>
        <button id="submit-code">Submit</button>
      </div>
      <pre id="output"></pre>
      <div id="results" style="display: none">
        <h3>Submission Results</h3>
        <p>Status: <span id="status"></span></p>
        <p>Time Taken: <span id="time-taken"></span></p>
        <p>Memory Used: <span id="memory-used"></span></p>
        <div id="test-cases">
          <h4>Test Cases</h4>
          <!-- Test cases will be populated here -->
        </div>
      </div>
    </div>

    <script>
      // Show Sign Up Form
      document
        .getElementById("show-signup")
        .addEventListener("click", function () {
          document.querySelector(".login-container").style.display = "none";
          document.querySelector(".signup-container").style.display = "block";
        });

      // Handle Login
      document
        .getElementById("login-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          document.querySelector(".login-container").style.display = "none";
          document.querySelector(".signup-container").style.display = "none";
          document.querySelector(".dashboard").style.display = "block";
          document.getElementById("login-btn").style.display = "none";
          document.getElementById("signup-btn").style.display = "none";
          document.getElementById("logout-btn").style.display = "inline-block";
        });

      // Handle Sign Up
      document
        .getElementById("signup-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          document.querySelector(".login-container").style.display = "none";
          document.querySelector(".signup-container").style.display = "none";
          document.querySelector(".dashboard").style.display = "block";
          document.getElementById("login-btn").style.display = "none";
          document.getElementById("signup-btn").style.display = "none";
          document.getElementById("logout-btn").style.display = "inline-block";
        });

      // Handle Logout
      document
        .getElementById("logout-btn")
        .addEventListener("click", function () {
          document.querySelector(".dashboard").style.display = "none";
          document.querySelector(".coding-environment").style.display = "none";
          document.querySelector(".login-container").style.display = "block";
          document.getElementById("login-btn").style.display = "inline-block";
          document.getElementById("signup-btn").style.display = "inline-block";
          document.getElementById("logout-btn").style.display = "none";
        });

      // Search Exercises
      document
        .getElementById("search-keyword")
        .addEventListener("input", function (e) {
          const keyword = e.target.value.toLowerCase();
          document.querySelectorAll(".exercise").forEach(function (exercise) {
            const title = exercise
              .querySelector("h4")
              .textContent.toLowerCase();
            exercise.style.display = title.includes(keyword) ? "block" : "none";
          });
        });

      // Filter Exercises by Language
      document
        .getElementById("filter-language")
        .addEventListener("change", function (e) {
          const language = e.target.value;
          document
            .querySelectorAll(".exercise-category")
            .forEach(function (category) {
              category.style.display =
                language === "all" || category.dataset.language === language
                  ? "block"
                  : "none";
            });
        });

      // Select Exercise
      document.querySelectorAll(".select-exercise").forEach(function (button) {
        button.addEventListener("click", function () {
          const title = this.dataset.title;
          const description = this.dataset.description;
          const language = this.dataset.language;

          document.querySelector(".dashboard").style.display = "none";
          document.querySelector(".coding-environment").style.display = "block";
          document.getElementById("exercise-title").textContent = title;
          document.getElementById("exercise-description").textContent =
            description;

          // Set up the code editor for the selected language (dummy example)
          document.getElementById(
            "code-editor"
          ).value = `// Write your ${language} code here`;
        });
      });

      // Back Button
      document
        .getElementById("back-btn")
        .addEventListener("click", function () {
          document.querySelector(".coding-environment").style.display = "none";
          document.querySelector(".dashboard").style.display = "block";
        });

      // Run Code
      document
        .getElementById("run-code")
        .addEventListener("click", function () {
          const code = document.getElementById("code-editor").value;
          // Dummy code execution logic
          document.getElementById(
            "output"
          ).textContent = `Output for the code: ${code}`;
        });

      // Clear Code
      document
        .getElementById("clear-code")
        .addEventListener("click", function () {
          document.getElementById("code-editor").value = "";
        });

      // Submit Code
      document
        .getElementById("submit-code")
        .addEventListener("click", function () {
          const code = document.getElementById("code-editor").value;
          // Dummy submission logic
          const testCases = [
            { input: "1, 2", expected: "3", actual: "3", status: "Passed" },
            { input: "2, 3", expected: "5", actual: "5", status: "Passed" },
            { input: "3, 4", expected: "7", actual: "6", status: "Failed" },
          ];

          const passedCases = testCases.filter(
            (tc) => tc.status === "Passed"
          ).length;
          const totalCases = testCases.length;

          document.getElementById("results").style.display = "block";
          document.getElementById("status").textContent =
            passedCases === totalCases ? "Success" : "Some Failed";

          document.getElementById("test-cases").innerHTML = testCases
            .map(
              (tc) => `
        <div class="test-case">
            <p>Input: ${tc.input}</p>
            <p>Expected Output: ${tc.expected}</p>
            <p>Actual Output: ${tc.actual}</p>
            <p>Status: ${tc.status}</p>
        </div>
    `
            )
            .join("");

          document.getElementById("test-cases").insertAdjacentHTML(
            "beforeend",
            `
        <p>Score: ${passedCases}/${totalCases} test cases passed.</p>
    `
          );
        });

      // Try Again Button
      document
        .getElementById("try-again-btn")
        .addEventListener("click", function () {
          document.getElementById("results").style.display = "none";
          document.getElementById("try-again-btn").style.display = "none";
          document.getElementById("return-dashboard-btn").style.display =
            "none";
        });

      // Return to Dashboard Button
      document
        .getElementById("return-dashboard-btn")
        .addEventListener("click", function () {
          document.querySelector(".coding-environment").style.display = "none";
          document.querySelector(".dashboard").style.display = "block";
        });
    </script>
  </body>
</html>
